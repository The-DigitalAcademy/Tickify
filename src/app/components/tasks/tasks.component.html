<div class="todo-container">
  <!-- LEFT SIDE -->
  <div class="left">
    <h1>TICKIFY</h1>
    <p>Let's Accomplish Tasks Together!</p>
    <img src="assets/images/background.png" alt="Owl thinking" />
  </div>

  <!-- RIGHT SIDE -->
  <div class="right todo-card">
    <h2 style="color: aliceblue;">Get Things Done!</h2>

    <!-- Add Task -->
    <div class="task-input">
      <input
        type="text"
        placeholder="What is the task today?"
        [(ngModel)]="newTasktask"
      />
      <button (click)="addTask()">Add Task</button>
    </div>

    <!-- Task List -->
    <ul class="task-list">
      <!-- Use async pipe -->
      <li *ngFor="let task of (tasks$ | async)">
        <label class="task-item">
          <!-- Checkbox -->
          <input
            type="checkbox"
            [checked]="task.completed"
            (change)="toggleComplete(task)"
          />

          <!-- Task task -->
          <span
            class="task-text"
            [style.textDecoration]="task.completed ? 'line-through' : 'none'"
            *ngIf="editingTaskId !== task.id"
          >
            {{ task.task }}
          </span>

          <!-- Edit Mode Input -->
          <input
            *ngIf="editingTaskId === task.id"
            [(ngModel)]="edittask"
            type="text"
          />
        </label>

        <!-- Actions -->
        <div class="actions">
          <!-- Edit Button -->
          <button *ngIf="editingTaskId !== task.id" (click)="updateTask(task)">
            <fa-icon [icon]="faEdit"></fa-icon>
          </button>

          <!-- Save Button -->
          <button *ngIf="editingTaskId === task.id" (click)="saveEdit(task)">
            ðŸ’¾
          </button>

          <!-- Delete Button -->
          <button (click)="deleteTask(task.id)">
            <fa-icon [icon]="faTrash"></fa-icon>
          </button>
        </div>
      </li>
    </ul>
  </div>
</div>
